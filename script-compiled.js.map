{"version":3,"sources":["Forsida.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class Forsida {\r\n  constructor() {\r\n    this.Sida = document.querySelector('.content');\r\n    // this.videos = null;\r\n    this.divFlokkur = document.createElement('div');\r\n    this.id = null;\r\n    this.video = null;\r\n  }\r\n\r\n  createVideos(data) {\r\n    const flokkar = data.categories;\r\n    const myndb = data.videos;\r\n\r\n    for (let i = 0; i < flokkar.length; i += 1) {\r\n      const flokkur = flokkar[i];\r\n      this.createDiv(flokkur, myndb);\r\n    }\r\n  // const elem = createDiv(flokkur, myndb);\r\n  }\r\n\r\n  createDiv(flokkur, myndb) {\r\n    const divTitill = document.createElement('div');\r\n    const divEfni = document.createElement('div');\r\n    const divFlokkur = document.createElement('div');\r\n    const Titill = document.createElement('H3');\r\n    const t = flokkur.title;\r\n    const title = document.createTextNode(t);\r\n\r\n    Titill.appendChild(title);\r\n    Titill.classList.add('catTitle');\r\n    divTitill.appendChild(Titill);\r\n    divFlokkur.appendChild(divTitill);\r\n    divFlokkur.appendChild(divEfni);\r\n    divEfni.classList.add('catContent');\r\n    divFlokkur.classList.add('catStructure');\r\n    this.Sida.appendChild(divFlokkur);\r\n\r\n    for (let i = 0; i < flokkur.videos.length; i += 1) {\r\n      const id = flokkur.videos[i];\r\n      const video = myndb.find(v => v.id === id);\r\n      const videoElement = this.createVideo(video);\r\n      divEfni.appendChild(videoElement);\r\n    }\r\n  }\r\n\r\n  createVideo(video) {\r\n    const divContain = document.createElement('div');\r\n    const divVideo = document.createElement('div');\r\n    const divInfo = document.createElement('div');\r\n    const duration = document.createElement('div');\r\n\r\n    const a = document.createElement('a');\r\n    a.href = 'Spilari.html?id=${flokkur[id]}';\r\n\r\n    const img = document.createElement('img');\r\n    img.src = video.poster;\r\n    divVideo.appendChild(img);\r\n\r\n    const spilat = this.getDuration(video.duration); // Kalla á fallið\r\n    const st = document.createTextNode(spilat);\r\n    duration.appendChild(st);\r\n    divVideo.appendChild(duration);\r\n\r\n    const title = document.createElement('H4');\r\n    const t = document.createTextNode(video.title);\r\n    title.appendChild(t);\r\n    title.classList.add('h4');\r\n    divInfo.appendChild(title);\r\n\r\n    const Date = this.getDate(video.created);\r\n    const d = document.createTextNode(Date);\r\n    divInfo.appendChild(d);\r\n\r\n    const link = document.createElement('a');\r\n    // const a = window.location.href;\r\n    const href = document.createTextNode(a);\r\n    link.setAttribute('href', `${href}/Spilari.html?id=${video.id}`);\r\n    console.log(video.id);\r\n    console.log(link);\r\n\r\n\r\n    divContain.appendChild(divVideo);\r\n    divContain.appendChild(divInfo);\r\n    divContain.appendChild(link);\r\n    divContain.classList.add('vidMain');\r\n    return divContain;\r\n    // this.divFlokkur.appendChild(divContain);\r\n    // this.Sida.appendChild(this.divFlokkur);\r\n\r\n\r\n\r\n  }\r\n\r\n  init(content) {\r\n    this.Sida = content;\r\n\r\n  // content.addEventListener('click', ); // fallið sem ræsir queryselector\r\n  }\r\n\r\n  // Fall sem tekur tíma myndbands frá json og skilar tímanum í réttu formatti\r\n  getDuration(x) {\r\n    if (x < 60) {\r\n      if (x < 10) {\r\n        return `00:0${x}`;\r\n      }\r\n      return `00:${x}`;\r\n    } else if (x <= 60 * 60) {\r\n      const min = Math.floor(x / 60);\r\n      const sec = Math.floor(x % 60);\r\n      if (sec < 10) {\r\n        return `${min}:0${sec}`;\r\n      }\r\n      return `${min}:${sec}`;\r\n    }\r\n  }\r\n\r\n  //Fall sem tekur dagsetningu frá json og skilar aldrinum á réttu formatti\r\n  getDate(x) {\r\n    let d = (Date.now() - x) / 1000;\r\n    const years = Math.floor(d / (365 * 24 * 60 * 60));\r\n    d %= (365 * 24 * 60 * 60);\r\n    const months = Math.floor(d / (30 * 24 * 60 * 60));\r\n    d %= (30 * 24 * 60 * 60);\r\n    const weeks = Math.floor(d / (7 * 24 * 60 * 60));\r\n    d %= (7 * 24 * 60 * 60);\r\n    const days = Math.floor(d / (24 * 60 * 60));\r\n    d %= (24 * 60 * 60);\r\n    const hours = Math.floor(d / (60 * 60));\r\n    d %= (60 * 60);\r\n\r\n\r\n    //Skila á réttu formatti\r\n    if (years > 1) {\r\n      if (this.lastNumber(years) === 1) {\r\n        return `Fyrir ${years} ári`;\r\n      }\r\n      return `Fyrir ${years} árum`;\r\n    }\r\n    if (months > 1) {\r\n      if (this.lastNumber(months) === 1) {\r\n        return `Fyrir ${months} mánuði`;\r\n      }\r\n      return `Fyrir ${months} mánuðum`;\r\n    }\r\n    if (weeks > 1) {\r\n      if (this.lastNumber(weeks) === 1) {\r\n        return `Fyrir ${weeks} viku`;\r\n      }\r\n      return `Fyrir ${weeks} vikum`;\r\n    }\r\n    if (days > 1) {\r\n      if (this.lastNumber(days) === 1) {\r\n        return `Fyrir ${days} degi`;\r\n      }\r\n      return `Fyrir ${days} dögum`;\r\n    }\r\n    if (this.lastNumber(hours) === 1) {\r\n      return `Fyrir ${hours} klukkutíma`;\r\n    }\r\n    return `Fyrir ${hours} klukkutímum`;\r\n  }\r\n\r\n  //Taka seinastu töluna, þurfum það fyrir eintölu í getDate()\r\n  lastNumber(x) {\r\n    let str = x.toString();\r\n    str = str.slice(-1);\r\n    return parseInt(str, 10);\r\n  }\r\n\r\n  fetchJSON() {\r\n    // const videos = ('videos.json');\r\n    const request = new XMLHttpRequest();\r\n    request.overrideMimeType('application/json');\r\n    request.open('GET', 'videos.json', true);\r\n    // console.log(request);\r\n    request.onload = () => {\r\n      if (request.status >= 200 && request.status < 400) {\r\n        const data = JSON.parse(request.response);\r\n        // console.log(data);\r\n        this.createVideos(data);\r\n      } else if (request.status >= 400) {\r\n        // villu melding\r\n      }\r\n    };\r\n\r\n    request.onerror = () => {\r\n\r\n    };\r\n\r\n    request.send();\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const content = document.querySelector('.content');\r\n  const forsida = new Forsida();\r\n\r\n  forsida.init(content);\r\n  forsida.fetchJSON();\r\n});\r\n"]}